<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">

<link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
<link rel="shortcut icon" href="favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
<link rel="manifest" href="favicon/site.webmanifest" />

  <title>Цифры и знааки на семисегментном индикаторе</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --text: #333333;
      --accent: #4a90e2;
      --muted: #666666;
      --radius: 12px;
      --max-width: 800px;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 3rem 1rem;
    }
    .wrapper {
      max-width: var(--max-width);
      margin: 0 auto;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--accent);
    }
    h2 {
      font-size: 1.5rem;
      margin: 2rem 0 0.75rem;
      color: var(--accent);
    }
    p {
      margin-bottom: 1rem;
    }
    ol {
      padding-left: 1.5rem;
    }
	ul {
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.5rem;
	}
	code {
	  font-size: 1rem;
	}
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>Зажигаем цифры и знаки</h1>
	
	<p>Задача &mdash; реализовать два режима отображения принятых из терминала данных на подключённом к Arduino UNO семисегментном индикаторе с общим катодом. В первом режиме передаётся и отображается цифра 0-9, во втором в виде строки нулей и единиц передаётся схема отображения произвольного знака (комбинация сегментов). Переключение режимов и передачу данных выполнять в строках вида <I>параметр=значение</I>.</p>
	
    <h2>Принцип</h2>
    <p>Концептуальное отличие от проекта <I><A HREF="https://x40in.github.io/Ind-y-Ardu/pages/030_7seg1.html">Зажигаем цифры</A></I> только в способе ввода данных. В программе сделан интерпретатор упрощённой командной строки: с клавиатуры компьютера вводятся команды вида <I>параметр=значение</I>. Воспринимаются только два параметра, <I>m</I> и <I>v</I>. Параметр <I>m</I> может принимать только значения 0 и 1, он определяет режим интерпретации значения, переданного для параметра <I>v</I>. Значение параметра <I>v</I> определяет, что будет отображаться на индикаторе.</p>
	<p>Команда <I>m</I> не оказывает никакого визуального действия, лишь меняет режим. Если передать команду <I>m=0</I>, то включится режим отображения с декодированием, в котором в команде <I>v=значение</I> в качестве значения воспринимаются только цифры 0-9, они же отображаются на индикаторе. После передачи команды <I>m=1</I> включится режим отображения без декодирования &mdash; в нём программа воспринимает строки вида <I>v=двоичное число с числом разрядов до 8</i>, например, <I>v=111</I>. Переданное двоичное число определяет отображаемую комбинацию сегментов: младший разряд соответствует сегменту A индикатора, соседний слева разряд сегменту B, а старший разряд восьмиразрядного числа &mdash; сегменту H (десятичной точке). Таким образом, команда <I>v=111</I> в режиме без декодирования зажжёт сегменты A, B, C (отобразится цифра 7), команда <I>v=10000111</I> покажет цифру 7 с точкой, а <I>v=11111111</I> зажжёт все сегменты. Погасить индикатор можно командой <I>v=0</I>.</p>

    <h2>Реализация</h2>
    
	<p>В программе реализованы разбор командной строки и преобразование строки единиц и нулей в байт (схему отображения произвольного знака). По умолчанию включён режим отображения с декодированием, так что сразу можно ввести команду <I>v=0</I> и увидеть нуль на индикаторе. После смены режима командой <I>m=1</I> можно вводить комбинации сегментов, выраженные двоичным числом.</p>
	
	<h2>Электрическая схема</h2>
	<p><img src="img/040_7seg2.jpg" width=800></p>

    <h2>Файлы</h2>
	<p>Текст программы содержится в файле <code>Ind_y_Ardu.ino</code>, который можно получить с Github <A href="https://github.com/x40in/Ind-y-Ardu/raw/7seg02/Ind_y_Ardu.ino"> по ссылке</A>.</p>
	<p>Как вариант, можно получить с Github весь <A href="https://github.com/x40in/Ind-y-Ardu">репозиторий цикла "Ардуино и индикаторы"</A> и выполнить команду</p>
	<p><code>git restore -s 7seg02 -- Ind_y_Ardu.ino</code></p>
	<p>Файл <code>Ind_y_Ardu.ino</code> в рабочей области будет перезаписан требуемой версией.</p>

    <p><A href="../index.html">К оглавлению</A></p>
	
  </div>
</body>
</html>