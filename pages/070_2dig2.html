<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">

<link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
<link rel="shortcut icon" href="favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
<link rel="manifest" href="favicon/site.webmanifest" />

  <title>Динамическая индикация</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --text: #333333;
      --accent: #4a90e2;
      --muted: #666666;
      --radius: 12px;
      --max-width: 800px;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 3rem 1rem;
    }
    .wrapper {
      max-width: var(--max-width);
      margin: 0 auto;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--accent);
    }
    h2 {
      font-size: 1.5rem;
      margin: 2rem 0 0.75rem;
      color: var(--accent);
    }
    p {
      margin-bottom: 1rem;
    }
    ol {
      padding-left: 1.5rem;
    }
	ul {
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.5rem;
	}
	code {
	  font-size: 1rem;
	}
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>Динамическая индикация</h1>
	
	<h2>Принцип</h2>
	<p>При динамической индикации разряды индикатора светятся не постоянно, а по очереди. Если переключать разряды достаточно быстро, то инерционность человеческого зрения создаёт иллюзию одновременного свечения всех разрядов, в каждом из которых отображается свой знак. Инерционность зрения проявляется в том, что зрительное восприятие предмета сохраняется ещё по меньшей мере несколько миллисекунд после того, как свет от него перестал воздействовать глаз. Из-за инерционности зрения мы воспринимаем быстро сменяющиеся последовательно смещаемые неподвижные изображения как одно изображение непрерывно движущегося объекта &mdash; этот эффект лежит в основе кинематографии. Если частота смены изображений не очень высока, то изображение может мерцать. У человека <A href="https://en.wikipedia.org/wiki/Flicker_fusion_threshold">критическая частота мерцания</A>, выше которой изображение перестаёт восприниматься мерцающим, составляет 50-90&nbsp;Гц. Она зависит от интенсивности света, цвета объекта, места воздействия света на сетчатку глаза, возраста, усталости и др.</p>

    <h2>Задача</h2>
	<p> Модифицировать конфигурацию из <A href="060_2dig1.html">предыдущего этюда</A> так, чтобы разряды двухразрядного индикатора зажигались попеременно с заданной частотой.</p>

    <h2>Реализация</h2>
	
    <p>Электрическая схема как в предыдущем этюде, в программе же добавлен параметр <i>t</i> командной строки, в котором передаётся целое число &mdash; количество миллисекунд свечения каждого разряда до переключения. В основном цикле программы временной интервал отслеживается с использованием функции <A href="https://alexgyver.ru/lessons/time/">millis()</A>. Когда проходит заданное время, текущий разряд индикатора гаснет, а другой загорается. Программа запускается с отображением цифр 0 и 7, переключающихся через 1000 мс. Передавая в параметре <i>t</i> постепенно уменьшающееся время, можно наблюдать, как сначала две видимые раздельно цифры образуют единое постоянно светящееся, но мерцающее число, а при дальнейшем уменьшении <i>t</i> исчезнет и мерцание. Можно сравнить наступление этих моментов при разном внешнем освещении и при разной степени собственной усталости &mdash; значения могут довольно сильно отличаться. Чтобы отобразить не 07, а другие цифры и знаки, следует ввести их, используя параметры <i>p</i>, <i>m</i> и <i>v</i>, как описано <A href="060_2dig1.html">в предыдущем этюде</A>.</p>
	
	<h2>Электрическая схема</h2>
	<p align="center"><img src="img/060_2dig1.jpg"></p>

    <h2>Результаты и наблюдения</h2>
    <p><img src="img/070_device.jpg"></p>
    <p><img src="img/070_wave.jpg"></p>
    <p>Показаны осциллограммы напряжений на катодах двухразрядного индикатора при <i>t</i>=10 мс. Легко видеть, что эти напряжения противофазны: когда на одном разряде низкий уровень, что соответствует свечению, на втором высокий &mdash; разряд погашен.</p>
    <p>На осциллограмме этого не видно, но наблюдение за живым сигналом показывает нестабильность длительности включённого состояния и периода прямоугольного сигнала. Последний скачками меняется приблизительно на 0,25 мс. Это может быть связано с отмеченными <A href="https://alexgyver.ru/lessons/time/">здесь</A> особенностями реализации функции millis().</p>
    <p>По наблюдению автора, переход от восприятия изображения на индикаторе как двух попеременно загорающихся отдельных цифр к восприятию их как одного мерцающего двухразрядного числа происходит при снижении <i>t</i> до 70-60 мс, а при <i>t</i>=14-12 мс исчезает и мерцание.</p>


    <h2>Файлы</h2>
	<p>Текст программы содержится в файле <code>Ind_y_Ardu.ino</code>, который можно получить с Github <A href="https://github.com/x40in/Ind-y-Ardu/raw/2dig02/Ind_y_Ardu.ino"> по ссылке</A>.</p>
	<p>Как вариант, можно получить с Github весь <A href="https://github.com/x40in/Ind-y-Ardu">репозиторий цикла "Ардуино и индикаторы"</A> и выполнить команду</p>
	<p><code>git restore -s 2dig02 -- Ind_y_Ardu.ino</code></p>
	<p>Файл <code>Ind_y_Ardu.ino</code> в рабочей области будет перезаписан требуемой версией.</p>

    <p>&nbsp;</p>
    <p><A href="../index.html">К оглавлению</A></p>

  </div>
</body>
</html>