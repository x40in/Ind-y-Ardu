<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">

<link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
<link rel="shortcut icon" href="favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
<link rel="manifest" href="favicon/site.webmanifest" />

  <title>Двухразрядный индикатор &mdash; 1</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --text: #333333;
      --accent: #4a90e2;
      --muted: #666666;
      --radius: 12px;
      --max-width: 800px;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 3rem 1rem;
    }
    .wrapper {
      max-width: var(--max-width);
      margin: 0 auto;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--accent);
    }
    h2 {
      font-size: 1.5rem;
      margin: 2rem 0 0.75rem;
      color: var(--accent);
    }
    p {
      margin-bottom: 1rem;
    }
    ol {
      padding-left: 1.5rem;
    }
	ul {
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.5rem;
	}
	code {
	  font-size: 1rem;
	}
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>Многоразрядные индикаторы</h1>
	
	<h2>Устройство и управление</h2>
	<p>В многоразрядном индикаторе выводы одноимённых сегментов соединены внутри корпуса, наружу выведены только эти 7-8 сегментных линий и общий электрод каждого разряда. Это сокращает количество линий, используемых для управления индикатором, но усложняет управление. Такие индикаторы полноценно работают только с динамической индикацией, когда каждый разряд по очереди зажигают на короткое время, а остальные разряды гасят. Инерционность человеческого зрения создаёт иллюзию одновременного свечения всех разрядов, в каждом из которых отображается свой знак.</p>

    <h2>Задача</h2>
	<p> Динамическая индикация изучается в следующем этюде, здесь же решается подготовительная задача: зажечь на двухразрядном индикаторе нужный знак в нужном разряде, а другой разряд погасить.</p>

    <h2>Реализация</h2>
	
    <p>Сегментные линии индикатора, как и в предыдущих этюдах, подключены к пинам 2-9 Ардуино, а общие электроды, в отличие от предыдущих этюдов, не к линиям GND или +5 В, а к пинам 10 и 11, то есть потенциалом на общих электродах тоже можно управлять. Выставив на общем электроде разряда надлежащий уровень (например, высокий на общем катоде), можно этот разряд погасить. В разряде, на общем катоде которого низкий уровень, будет отображаться знак, заданный комбинацией уровней на сегментных линиях.</p>
    <p> Командная строка <i>параметр=значение</i> дополнена возможностью восприятия параметра <i>p</i>, указывающего активный разряд индикатора (<i>p=0</i> для младшего, <i>1</i> для старшего разряда). <A href="040_7seg2.html">Как и раньше</A>, параметр <i>m</i> определяет режим отображения, в параметре <i>v</i> задаётся отображаемая информация. Например, чтобы отобразить в младшем разряде цифру, следует настроить систему на отображение с декодированием (<i>m=0</i>), указать разряд (<i>p=0</i>), а затем передать нужную цифру в параметре <i>v</i>, например, <i>v=5</i>. Чтобы отобразить некоторый знак в старшем разряде, необходимо включить отображение без декодирования (<i>m=1</i>), указать разряд (<i>p=1</i>) и передать в параметре <i>v</i> схему отображения знака, например, <i>v=1000000</i> для знака "минус". Разряд, не указанный в команде <i>p</i>, при исполнении команды <i>v</i> будет погашен.</p>
    <p>Управление разрядными линиями (катодами индикатора) аналогично управлению сегментными линиями &mdash; создаётся маска, в которой указывается нужная разрядная линия, и соответствующей логической операцией эта линия активируется.</p>
	
	<h2>Электрическая схема</h2>
	<p align="center"><img src="img/060_2dig1.jpg"></p>

    <h2>Файлы</h2>
	<p>Текст программы содержится в файле <code>Ind_y_Ardu.ino</code>, который можно получить с Github <A href="https://github.com/x40in/Ind-y-Ardu/raw/2dig01/Ind_y_Ardu.ino"> по ссылке</A>.</p>
	<p>Как вариант, можно получить с Github весь <A href="https://github.com/x40in/Ind-y-Ardu">репозиторий цикла "Ардуино и индикаторы"</A> и выполнить команду</p>
	<p><code>git restore -s 2dig01 -- Ind_y_Ardu.ino</code></p>
	<p>Файл <code>Ind_y_Ardu.ino</code> в рабочей области будет перезаписан требуемой версией.</p>

    <p>&nbsp;</p>
    <p><A href="../index.html">К оглавлению</A></p>

  </div>
</body>
</html>